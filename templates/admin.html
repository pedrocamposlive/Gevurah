<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin - Gevurah</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white min-h-screen p-6">
  <div class="max-w-4xl mx-auto">
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-2xl font-bold">Painel Admin</h1>
      <a href="/logout" class="text-sm text-gray-400 hover:text-white">Sair</a>
    </div>
    <form method="POST" action="/criar_usuario" class="bg-gray-800 p-4 rounded-lg space-y-4 mb-8">
      <h2 class="text-lg font-semibold">Criar novo usuário</h2>
      <input type="text" name="nome" placeholder="Nome" class="w-full p-2 bg-black text-white rounded" required>
      <input type="password" name="senha" placeholder="Senha" class="w-full p-2 bg-black text-white rounded" required>
      <select name="role" class="w-full p-2 bg-black text-white rounded">
        <option value="aluno">Aluno</option>
        <option value="coach">Coach</option>
        <option value="admin">Admin</option>
      </select>
      <select name="coach_id" class="w-full p-2 bg-black text-white rounded">
        <option value="">Coach (opcional)</option>
        {% for coach in coaches %}
          <option value="{{ coach.id }}">{{ coach.nome }}</option>
        {% endfor %}
      </select>
      <button type="submit" class="bg-white text-black font-bold py-2 px-4 rounded">Criar</button>
    </form>
    <table class="w-full text-left border border-gray-700">
      <thead class="bg-gray-800">
        <tr>
          <th class="p-2">ID</th>
          <th class="p-2">Nome</th>
          <th class="p-2">Função</th>
          <th class="p-2">Coach</th>
        </tr>
      </thead>
      <tbody>
        {% for user in usuarios %}
        <tr class="border-t border-gray-700">
          <td class="p-2">{{ user.id }}</td>
          <td class="p-2">{{ user.nome }}</td>
          <td class="p-2">{{ user.role }}</td>
          <td class="p-2">{{ user.coach_nome if user.coach_nome else '—' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</body>
</html>
