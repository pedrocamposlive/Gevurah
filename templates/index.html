<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gevurah</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white font-sans min-h-screen p-4">

  <div class="max-w-xl mx-auto space-y-6">

    <div class="flex justify-between items-center">
      <h1 class="text-xl font-bold">Olá, {{ usuario }}</h1>
      <form action="/logout" method="get">
        <button class="text-sm text-gray-400 hover:text-white">Sair</button>
      </form>
    </div>

    <!-- Cadastro de exercício -->
    <form action="/adicionar_exercicio" method="POST" class="space-y-2">
      <label class="block text-sm">Novo exercício:</label>
      <input type="text" name="novo_exercicio" placeholder="Ex: Agachamento" required class="bg-gray-800 p-2 w-full rounded" />
      <button type="submit" class="bg-white text-black font-semibold py-2 px-4 rounded">Cadastrar</button>
    </form>

    <!-- Registro de série -->
    <form action="/adicionar" method="POST" class="space-y-2">
      <label class="block text-sm">Selecionar exercício:</label>
      <select name="exercicio_id" required class="bg-gray-800 p-2 w-full rounded">
        <option value="">Escolha...</option>
        {% for ex in exercicios %}
        <option value="{{ ex['id'] }}">{{ ex['nome'] }}</option>
        {% endfor %}
      </select>
      <input type="number" name="serie" placeholder="Série Nº" class="bg-gray-800 p-2 w-full rounded" required />
      <input type="number" step="0.1" name="carga" placeholder="Carga (kg)" class="bg-gray-800 p-2 w-full rounded" required />
      <input type="number" name="reps" placeholder="Repetições" class="bg-gray-800 p-2 w-full rounded" required />
      <button type="submit" class="bg-white text-black font-bold py-2 w-full rounded">Registrar Série</button>
    </form>

    <!-- Histórico -->
    <div>
      <h2 class="text-xl font-semibold mt-6 mb-2">Histórico</h2>
      <table class="w-full text-sm text-left border border-gray-700">
        <thead class="bg-gray-800 text-gray-300">
          <tr>
            <th class="p-2 border border-gray-700">Data</th>
            <th class="p-2 border border-gray-700">Exercício</th>
            <th class="p-2 border border-gray-700">Série</th>
            <th class="p-2 border border-gray-700">Carga</th>
            <th class="p-2 border border-gray-700">Reps</th>
          </tr>
        </thead>
        <tbody>
          {% for s in series %}
          <tr class="border-t border-gray-700">
            <td class="p-2 border border-gray-700">{{ s['data'] }}</td>
            <td class="p-2 border border-gray-700">{{ s['nome'] }}</td>
            <td class="p-2 border border-gray-700">{{ s['serie'] }}</td>
            <td class="p-2 border border-gray-700">{{ s['carga'] }} kg</td>
            <td class="p-2 border border-gray-700">{{ s['reps'] }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </div>

</body>
</html>
